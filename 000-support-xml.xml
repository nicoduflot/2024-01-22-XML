<!--
    Namespace 

    L'espace de nom donne un contexte à un terme, par exemple certains mots ont plusieurs définitions, 
    c'est le contexte dans lequel on utilise ce mot qui donne sa "fonction / définition" finale

    On peut par exemple associer le document à l’espace de nom XHTML et par soucis de praticité 
    on va utiliser le préfixe html (faciliter la lecture humaine du document) 
    car il faut savoir qu’à la base le choix du préfixe est totalement arbitraire.
-->
<!-- ici il y a un prologue -->
<!-- élément racine -->
<html:html xmlns:html="http://www.w3.org/1999/xhtml">
    <html:head>
        <html:title>
            Les espaces de noms
        </html:title>
    </html:head>
    <html:body>
        .....
    </html:body>
</html:html>

<!-- On peut décrire plusieurs espaces de nom dans un même document -->
<html:html
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:mml="http://www.w3.org/1998/Math/MathML"
>
    <html:head>
        <html:title>
            Les espaces de noms
        </html:title>
    </html:head>
    <html:body> ..... <mml:math>
            <mml:apply>
                <mml:eq>
                    <!-- (a + b)² -->
                    <mml:msup>
                        <mml:mfenced>
                            <mml:mrow>
                                <mml:mi>a</mml:mi>
                                <mml:mo>+</mml:mo>
                                <mml:mi>b</mml:mi>
                            </mrow>
                        </mfenced>
                        <mml:mn>2</mml:mn>
                    </msup>
                </mml:eq>
            </mml:apply>
        </mml:math>
    </html:body>
</html:html>

<!-- 
    on peut limiter la portée de la déclaration d'un espace de nom,
    pour la déclaration multiple, il est aussi possible de n'utiliser (d'appeler) une espace de nom 
    seulement quand il est requis
-->
<!-- ici on utilise le dialecte HTML -->
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>
            Les espaces de noms
        </title>
    </head>
    <body> 
        ..... 
        <!-- à partyir de cetyte balise et uniquement à l'intérieur de celle-ci on utlise le dialecte Math -->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq>
                    <!-- (a + b)² -->
                    <msup>
                        <mfenced>
                            <mrow>
                                <mi>a</mi>
                                <mo>+</mo>
                                <mi>b</mi>
                            </mrow>
                        </mfenced>
                        <mn>2</mn>
                    </msup>
                </eq>
            </apply>
        </math>
        <!-- on revient surle dialecte HTML, car on sort de la portée du dialecte Math -->
    </body>
</html>

<!--
    Mais comment faisons nous s'il n'existe pas de contexte pour nos données, ou seulement une partie ?
    Il est possible "d'annuler" un espace de nom (de la même façon que l'on a appelé un espace de nom de manière ponctuelle)
-->

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>
            Les espaces de noms
        </title>
    </head>
    <body>
        .....
        <!-- 
            Pour inclure mon propre dialecte, je doit annuler la portée de HTML dans un espace du document 
            Pour ce faire, je vais déclarer un espace de nom nul
        -->
        <rolodex xmlns="">
            <nom>Lagaffe</nom>
            <prenom>Gaston</prenom>
        </rolodex>
        <!-- on sort de la portée de l'espace de nom nul, on revient en HTML -->
    </body>
</html>

<!-- 
XML
    http://www.w3.org/XML/1998/namespace 
XInclude
    http://www.w3.org/2001/XInclude 
XLink
    http://www.w3.org/1999/xlink 
MathML
    http://www.w3.org/1998/Math/MathML 
XHTML
    http://www.w3.org/1999/xhtml 
SVG
    http://www.w3.org/2000/svg 
Schémas
    http://www.w3.org/2001/XMLSchema 
Instances de schémas
    http://www.w3.org/2001/XMLSchema-instance 
Schematron
    http://purl.oclc.org/dsdl/schematron 
XSLT
    http://www.w3.org/1999/XSL/Transform 
XSL-FO
    http://www.w3.org/1999/XSL/Format 
DocBook
    https://tdg.docbook.org/tdg/5.1/ 
Dublin Core
    https://www.dublincore.org/specifications/dublin-core/dcmi-terms/ 

-->

<!-- 
    LES DTD 

    C'est un système de validation de format XML, en définissant une structure stricte aux documents XML.
    Les DTD permettent de définir l'arborescence des balises, leur ordre et leur cractère obligatoire ou non?

    Un XML possédant des DTD doit suivre le schéma imposé.

    Les DTD servent donc a imposer un format d'écriture, pour normaliser les documents quand ils sont produit par des personnes ou des systèmes différents.
-->

<!ELEMENT balise (contenu)>

<!-- balise contenant une autre balise -->
<contact>
    <nom>Durand</nom>
</contact>

<!-- balise contact -->
<!ELEMENT contact (nom)>
<!-- balise nom -->
<!ELEMENT nom (#PCDATA)>
<!-- si la balise doit être vide -->
<source src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
<!-- en DTD -->
<!ELEMENT source EMPTY>
    <!-- mais elle contient un attribut -->
    <!ATTLIST source src CDATA>

<!-- la balise prenom et la balise age peuvent être vides ou non -->
<rolodex>
    <contact>
        <nom>Duflot</nom>
        <prenom>Nicolas</prenom>
        <age>44</age>
    </contact>
    <contact>
        <nom>ACME Inc</nom>
        <prenom></prenom>
        <age></age>
    </contact>
</rolodex>

<!ELEMENT prenom ANY>

<!-- la balise contient de une à x autre balise du même nom -->
<!ELEMENT rolodex (contact+)>
<!-- + indique qu'il faut au moin une balise contact dans ROLODEX -->

<!-- en DTD le xml précédent -->
<!ELEMENT rolodex (contact+)>
    <!ELEMENT contact (nom, prenom, age)>
        <!ELEMENT nom (#PCDATA)>
        <!ELEMENT prenom (#PCDATA)>
        <!ELEMENT age (#PCDATA)>
<!-- si le xml ne fait pas apparaître les balises vide-->
<rolodex>
    <contact>
        <nom>Duflot</nom>
        <prenom>Nicolas</prenom>
        <age>44</age>
    </contact>
    <contact>
        <nom>ACME Inc</nom>
    </contact>
    <contact>
        <prenom>Tantine</prenom>
        <age>74</age>
    </contact>
</rolodex>
<!-- le DTD -->
<!ELEMENT rolodex (contact*)>
    <!-- ici, * indique qu'on pourrait avoir de 0 à X contact-->
    <!ELEMENT contact (nom | prenom, age?)>
    <!-- ici, ? indique que la balise peut être présente une seule fois ou pas du tout -->

<!-- les attributs -->
<!ELEMENT balise (contenu)>
    <!ATTLIST balise attr> 
    <!-- attr est la définition plus ou moins complexe de l'attribut -->

<!-- atribut type identifiant unique -->
<contact numero="n-1"></contact>
<!ELEMENT contact ANY>
    <!ATTLIST contact numero ID #REQUIRED>

<!-- 
    Propriété de présence des attributs
    forme               signification
    #IMPLIED            Attribut facultatif
    #REQUIRED           Attribut obligatoire
    #FIXED valeur       Attribut avec cette valeur, non modifiable
    "valeur"            Attribut avec cette valeur par défaut et modifiable
-->

<!-- Attribut utilisant le principe de référence (qui font référérence à) un attribut de valeur unique -->
<!ELEMENT contact ANY>
    <!ATTLIST contact personne (physique | morale) "physique">
    <!ATTLIST contact numero ID #REQUIRED>

<!ELEMENT adresse ANY>
    <!ATTLIST adresse type (facturation | livraison)>
    <!ATTLIST adresse useradresse IDREF #REQUIRED>

<rolodex>
    <contacts>
        <contact personne="physique" numero="n-01">
            ....
        </contact>
        <contact personne="physique" numero="n-02">
            ....
        </contact>
        <contact personne="morale" numero="n-03">
            ....
        </contact>
    </contacts>
    <adresses>
        <adresse type="facturation" useradresse="n-01">
            
        </adresse>
        <adresse type="livraison" useradresse="n-01">
            
        </adresse>
        <adresse type="facturation" useradresse="n-02">
            
        </adresse>
        <adresse type="livraison" useradresse="n-03">
            
        </adresse>
        <adresse type="facturation" useradresse="n-03">
            
        </adresse>
    </adresses>
</rolodex>

<!-- autre exemple ID IDREF -->
<artist name="Nick Cave" artistid="NC" />
<album name="Murder Ballads" albumartistid="NC" />
<album name="The boatman's call" albumartistid="NC" />

<!ELEMENT artist EMPTY>
    <!ATTLIST artist name CDATA #REQUIRED>
    <!ATTLIST artist artistid ID #REQUIRED>
<!ELEMENT album EMPTY>
    <!ATTLIST album name CDATA #REQUIRED>
    <!ATTLIST album albulartistid IDREF #IMPLIED>

<!-- ID ET IDREFS -->